// cd /Users/takekota/Documents/2022年度その他/IH31
// cd 0909websocket/app6
// node app6-1
// ブラウザで「localhost:9000」見てみ
// control + C で強制終了

▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼

webSocket
サーバーからプッシュする（双方向）
たまに対応していないブラウザやバージョンがある
ポーリング：クライアントから時々サーバーにアクセスする

「res.end();」セッション（メモリ）を解放するために必要

Socket.IO：非同期双方向通信をNode.jsから利用できるモジュール


リアルタイムで全ブラウザにデータを配送する
ブラウザを更新したとき前回値は引き継がない
ユーザー認証や過去ログなどの追加はDB接続が必要


▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼▲▼

npm install socket.io
(npm install package.json)
(npm install express)
(npm install ejs)
(npm install mysql)

★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆
6-1
簡易的チャットサービス

header.ejsでjavascript.jsの読み込みをしてしまっていました。解決済み


★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆
6-2
複数の入力項目


-- 0916
★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆
6-3
複数のチャットルーム
チャットルームを分ける
→複数のejs
→単一のejs → これは6-6でやることにした。


★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆★☆
6-4
チャット履歴をDBに格納

DB,TABLEの作成
データベース名：nodetest
テーブル名：t01_chatmessage_604
ポート番号：3306
フィールド：chat_id, input1, input2

